int main()
{
	int n, i, j, z, k = 0, kch = 0, pr = 1;
	scanf_s("%d", &n);
	scanf_s("%d", &z);
	int* x = (int*)calloc(n, sizeof(int));
	for (i = 0; i < n; i++)
		scanf_s("%d", &x[i]);
	j = 0;
	for (i = 0; i < n; i++)
	{
		if (x[i] % z == 0)
			k++;
		if (x[i] % 2 == 0)
			kch++;
		else pr *= x[i];
	}
	x = (int*)realloc(x, (n + 1) * sizeof(int));
	if (k % 2 == 0)
	{
		x[n] = kch;
	}
	else
	{
		x[n] = pr;
	}
	for (i = 0; i < n + 1; i++)
		printf("%d ", x[i]);
	return 0;
}
